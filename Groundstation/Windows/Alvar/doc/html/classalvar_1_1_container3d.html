<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>Container3d&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  
   
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacealvar.html">alvar</a>      </li>
      <li class="navelem"><a class="el" href="classalvar_1_1_container3d.html">Container3d</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Container3d&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic container to store any information in 3D (features, photos, ...)  
 <a href="classalvar_1_1_container3d.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_container3d_8h_source.html">Container3d.h</a>&gt;</code></p>

<p><a href="classalvar_1_1_container3d-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classalvar_1_1_container3d_1_1_iterator.html" title="Iterator for going through the items in Container3d in the specified order.">Iterator</a> for going through the items in <em><a class="el" href="classalvar_1_1_container3d.html" title="Generic container to store any information in 3D (features, photos, ...)">Container3d</a></em> in the specified order.  <a href="classalvar_1_1_container3d_1_1_iterator.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0c256c1313be873da17a68f968d00e11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c256c1313be873da17a68f968d00e11"></a>
typedef std::pair<br class="typebreak"/>
&lt; CvPoint3D32f, T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a0c256c1313be873da17a68f968d00e11">node_type</a></td></tr>
<tr class="memdesc:a0c256c1313be873da17a68f968d00e11"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>node_type</em> for storing data. 3D-position is paired with the data content. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7a0094fc4a1439b06d47a669e87b5a50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a0094fc4a1439b06d47a669e87b5a50"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a7a0094fc4a1439b06d47a669e87b5a50">Add</a> (const CvPoint3D32f &amp;_pos, const T &amp;_data)</td></tr>
<tr class="memdesc:a7a0094fc4a1439b06d47a669e87b5a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add <em>_data</em> in the container and associate it with 3D position <em>_pos</em>. <br/></td></tr>
<tr class="memitem:aa71d36872f416feaa853788a7a7a7ef8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa71d36872f416feaa853788a7a7a7ef8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a> ()</td></tr>
<tr class="memdesc:aa71d36872f416feaa853788a7a7a7ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the container. <br/></td></tr>
<tr class="memitem:a8e401ed0d40cb96458d9aef7926a08e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e401ed0d40cb96458d9aef7926a08e9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a8e401ed0d40cb96458d9aef7926a08e9">ResetSearchSpace</a> ()</td></tr>
<tr class="memdesc:a8e401ed0d40cb96458d9aef7926a08e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the search space to contain whole data. <br/></td></tr>
<tr class="memitem:aecb4d6b50ef9d7b549a48be23451c698"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecb4d6b50ef9d7b549a48be23451c698"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aecb4d6b50ef9d7b549a48be23451c698">Erase</a> (size_t index)</td></tr>
<tr class="memdesc:aecb4d6b50ef9d7b549a48be23451c698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase item in the container. <br/></td></tr>
<tr class="memitem:ab2f183dbc4d96638c6c0b5318e6c65ba"><td class="memTemplParams" colspan="2"><a class="anchor" id="ab2f183dbc4d96638c6c0b5318e6c65ba"></a>
template&lt;typename Compare &gt; </td></tr>
<tr class="memitem:ab2f183dbc4d96638c6c0b5318e6c65ba"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ab2f183dbc4d96638c6c0b5318e6c65ba">Sort</a> (Compare comp)</td></tr>
<tr class="memdesc:ab2f183dbc4d96638c6c0b5318e6c65ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort using external Compare method. <br/></td></tr>
<tr class="memitem:a137f27dfb1e5747ad90de0854c776bf2"><td class="memTemplParams" colspan="2"><a class="anchor" id="a137f27dfb1e5747ad90de0854c776bf2"></a>
template&lt;typename Test &gt; </td></tr>
<tr class="memitem:a137f27dfb1e5747ad90de0854c776bf2"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a137f27dfb1e5747ad90de0854c776bf2">Limit</a> (Test test)</td></tr>
<tr class="memdesc:a137f27dfb1e5747ad90de0854c776bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit the search space with external limitation. <br/></td></tr>
<tr class="memitem:a2387033802383edbdc95f9bbb12a707e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2387033802383edbdc95f9bbb12a707e"></a>
<a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a2387033802383edbdc95f9bbb12a707e">begin</a> ()</td></tr>
<tr class="memdesc:a2387033802383edbdc95f9bbb12a707e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides an iterator pointing to the beginning of the limited/sorted 3D content. <br/></td></tr>
<tr class="memitem:ab45dae688fc5d8983727abffa4389003"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab45dae688fc5d8983727abffa4389003"></a>
<a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ab45dae688fc5d8983727abffa4389003">end</a> ()</td></tr>
<tr class="memdesc:ab45dae688fc5d8983727abffa4389003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides an iterator pointing to the end of the limited/sorted 3D content. <br/></td></tr>
<tr class="memitem:aac782da1f912bceb5d8ad00c8dc892ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac782da1f912bceb5d8ad00c8dc892ac"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a> () const </td></tr>
<tr class="memdesc:aac782da1f912bceb5d8ad00c8dc892ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of items that can be referenced using <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]() ...">operator[]()</a></em> <br/></td></tr>
<tr class="memitem:ac109fa23d6b2d7f4d6c498b1845a970f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac109fa23d6b2d7f4d6c498b1845a970f"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ac109fa23d6b2d7f4d6c498b1845a970f">GetIndex</a> (<a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a> &amp;iter)</td></tr>
<tr class="memdesc:ac109fa23d6b2d7f4d6c498b1845a970f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get absolute reference usable with <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]() ...">operator[]()</a></em> based on the iterator. <br/></td></tr>
<tr class="memitem:aa356271bfee209d9ca688011ee9bdfd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa356271bfee209d9ca688011ee9bdfd1"></a>
<a class="el" href="classalvar_1_1_container3d.html#a0c256c1313be873da17a68f968d00e11">node_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1">operator[]</a> (size_t index)</td></tr>
<tr class="memdesc:aa356271bfee209d9ca688011ee9bdfd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instead of <em><a class="el" href="classalvar_1_1_container3d_1_1_iterator.html" title="Iterator for going through the items in Container3d in the specified order.">Iterator</a></em> we can use also absolute references for data with <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]() ...">operator[]()</a></em> <br/></td></tr>
<tr class="memitem:ad8a40932276018a7fda36e52b3b3080f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8a40932276018a7fda36e52b3b3080f"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ad8a40932276018a7fda36e52b3b3080f">GetIndex</a> (T *p)</td></tr>
<tr class="memdesc:ad8a40932276018a7fda36e52b3b3080f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get absolute reference usable with <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]() ...">operator[]()</a></em> based on the content. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad0101b66fc18777e8265f233d2ff9ea8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0101b66fc18777e8265f233d2ff9ea8"></a>
std::vector&lt; <a class="el" href="classalvar_1_1_container3d.html#a0c256c1313be873da17a68f968d00e11">node_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ad0101b66fc18777e8265f233d2ff9ea8">data</a></td></tr>
<tr class="memdesc:ad0101b66fc18777e8265f233d2ff9ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the actual data in using node_type: pair&lt;CvPoint3D32f, T&gt; <br/></td></tr>
<tr class="memitem:a904f750bef8a655fc614a9b7555bac3b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a904f750bef8a655fc614a9b7555bac3b"></a>
std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a904f750bef8a655fc614a9b7555bac3b">search_space</a></td></tr>
<tr class="memdesc:a904f750bef8a655fc614a9b7555bac3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possibly limited set of indices for <em>data</em> in somehow "optimal" search order. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br/>
class alvar::Container3d&lt; T &gt;</h3>

<p>Generic container to store any information in 3D (features, photos, ...) </p>
<p>You can store any information in 3D using this container. Each element in the container has an unique id that it can be referenced with using <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]() ...">operator[]()</a></em>. The indices are from 0 to <em><a class="el" href="classalvar_1_1_container3d.html#aac782da1f912bceb5d8ad00c8dc892ac" title="Get number of items that can be referenced using operator[]() ">size()</a></em>. You can find specific index using <em><a class="el" href="classalvar_1_1_container3d.html#ac109fa23d6b2d7f4d6c498b1845a970f" title="Get absolute reference usable with operator[]() based on the iterator.">GetIndex(Iterator &amp;iter)</a></em> or <em><a class="el" href="classalvar_1_1_container3d.html#ad8a40932276018a7fda36e52b3b3080f" title="Get absolute reference usable with operator[]() based on the content.">GetIndex(T *p)</a></em> .</p>
<p>In addition the <a class="el" href="classalvar_1_1_container3d.html" title="Generic container to store any information in 3D (features, photos, ...)">Container3d</a> contains also a 'search space' that can be iterated through using <em><a class="el" href="classalvar_1_1_container3d.html#a2387033802383edbdc95f9bbb12a707e" title="Provides an iterator pointing to the beginning of the limited/sorted 3D content.">begin()</a></em> and <em><a class="el" href="classalvar_1_1_container3d.html#ab45dae688fc5d8983727abffa4389003" title="Provides an iterator pointing to the end of the limited/sorted 3D content.">end()</a></em>. This 'search space' can be limited using <em><a class="el" href="classalvar_1_1_container3d.html#a137f27dfb1e5747ad90de0854c776bf2" title="Limit the search space with external limitation.">Limit()</a></em> , sorted using <em><a class="el" href="classalvar_1_1_container3d.html#ab2f183dbc4d96638c6c0b5318e6c65ba" title="Sort using external Compare method.">Sort()</a></em> and reseted using <em><a class="el" href="classalvar_1_1_container3d.html#a8e401ed0d40cb96458d9aef7926a08e9" title="Reset the search space to contain whole data.">ResetSearchSpace()</a></em>. You specify what to limit/sort using specified functors. In ALVAR there exists functors <em><a class="el" href="classalvar_1_1_container3d_limit_dist.html" title="Functor class for Container3d Limit() to limit the search space with distance.">Container3dLimitDist</a></em> , <em><a class="el" href="classalvar_1_1_container3d_sort_size.html" title="Functor class for Container3d Sort() to sort the search base using content size.">Container3dSortSize</a></em> and <em><a class="el" href="classalvar_1_1_container3d_sort_dist.html" title="Functor class for Container3d Sort() to sort the search base using distance to specified origin...">Container3dSortDist</a></em> . But you can quite well make your own versions (see example below).</p>
<p>The implementation is optimized for a situation where there are a lot of searches between every time the search space is limited/ordered. This is the reason we use vector containers internally. The idea is that later we will improve the class by providing more ways for limiting and sorting the search space; for example Frustum culling.</p>
<p>Usage:</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
 <span class="keyword">class </span>Container3dSortX {
 <span class="keyword">protected</span>:
        Container3d&lt;T&gt; &amp;container;
 <span class="keyword">public</span>:
        Container3dSortX(Container3d&lt;T&gt; &amp;_container) : container(_container) {}
        <span class="keywordtype">bool</span> operator()(<span class="keywordtype">size_t</span> i1, <span class="keywordtype">size_t</span> i2)<span class="keyword"> const </span>{
                <span class="keywordflow">return</span> (container[i1].first.x &lt; container[i2].first.x);
        }
 };
 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
 <span class="keyword">class </span>Container3dLimitX {
 <span class="keyword">protected</span>:
        <span class="keywordtype">int</span> x_min, x_max;
        Container3d&lt;T&gt; &amp;container;
 <span class="keyword">public</span>:
        Container3dLimitX(Container3d&lt;T&gt; &amp;_container, <span class="keywordtype">int</span> _x_min, <span class="keywordtype">int</span> _x_max) 
        : container(_container),x_min(_x_min),x_max(_x_max) {}
        <span class="keywordtype">bool</span> operator()(<span class="keywordtype">size_t</span> i1)<span class="keyword"> const </span>{
                <span class="keywordflow">if</span> ((container[i1].first.x &gt;= x_min) &amp;&amp; (container[i1].first.x &lt;= x_max)) <span class="keywordflow">return</span> <span class="keyword">true</span>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
 };
 
 ...
 Container3d&lt;int&gt; c3d;
 c3d.Add(CvPoint3D32f(0,0,0), 0);
 c3d.Add(CvPoint3D32f(5,0,0), 1);
 c3d.Add(CvPoint3D32f(0,5,0), 2);
 c3d.Add(CvPoint3D32f(0,0,5), 3);
 c3d.Add(CvPoint3D32f(0,0,500), 4);
 c3d.Add(CvPoint3D32f(500,0,0), 5);
 c3d.Add(CvPoint3D32f(1,0,0), 6);
 c3d.Add(CvPoint3D32f(0,0,1), 7);
 Container3dSortX&lt;int&gt; sortx(c3d);
 Container3dLimitX&lt;int&gt; limitx(c3d, -10, 10);
 Container3dLimitDist&lt;int&gt; limit_dist(c3d, cvPoint3D32f(0,0,0), 10.0);
 c3d.ResetSearchSpace();                <span class="comment">// Search space: 0,1,2,3,4,5,6,7</span>
 c3d.Sort(sortx);                       <span class="comment">// Search space: 0,2,3,4,7,6,1,5</span>
 c3d.Limit(limitx);                     <span class="comment">// Search space: 0,2,3,4,7,6,1</span>
 c3d.Limit(limit_dist);                 <span class="comment">// Search space: 0,2,3,7,6,1</span>
 Container3d&lt;int&gt;::Iterator iter;
 <span class="keywordflow">for</span> (iter=c3d.begin(); iter != c3d.end(); ++iter) {
     cout&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;iter-&gt;second;
 }
</pre></div> 
<p>Definition at line <a class="el" href="_container3d_8h_source.html#l00166">166</a> of file <a class="el" href="_container3d_8h_source.html">Container3d.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_container3d_8h_source.html">Container3d.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue May 29 2012 19:00:19 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
